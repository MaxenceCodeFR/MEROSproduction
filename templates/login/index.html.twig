{% extends 'base.html.twig' %}

{% block body %}
	{% include 'commons/_navbar.html.twig' %}
	{% if app.user == true %}
		<div class="container mt-5">
			<div class="row justify-content-center">
				<div class="col-md-6 text-center">
					<p class="display-4">Vous êtes déjà connecter !</p>
					<a href="{{ path('landing') }}" class="btn btn-success">Accueil</a>
				</div>
			</div>
		</div>
	{% else %}
		<div class="container mt-5">
			<div class="row justify-content-center">
				<div class="col-md-6">
					<h1 class="text-center mb-4">Connexion</h1>
					{% if error %}
						<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
					{% endif %}
					<form action="{{ path('login') }}" method="post" class="needs-validation" novalidate>
						<div class="mb-3">
							<label for="username" class="form-label">Email:</label>
							<input type="text" id="username" name="_username" value="{{ last_username }}" class="form-control" required>
							<div class="invalid-feedback">Veuillez entrer votre email.</div>
						</div>
						<div class="mb-3">
							<label for="password" class="form-label">Mot de passe:</label>
							<input type="password" id="password" name="_password" class="form-control" required>
							<div class="invalid-feedback">Veuillez entrer votre mot de passe.</div>
						</div>
						{# If you want to control the URL the user is redirected to on success #}

						<input type="hidden" name="_target_path" value="{{path('redirect_login')}}">

						<button type="submit" class="btn btn-primary">Connexion</button>
					</form>
					<p>Pas encore inscrit ?
						<a href="{{ path('app_register') }}">Inscription</a>
					</p>
					<p>
						<a href="{{ path('reset_password') }}">Mot de passe oublié ?</a>
					</p>
				</div>
			</div>
		</div>
	{% endif %}
{% endblock %}


