{% extends 'base.html.twig' %}

{% block title %}Instagram Stats{% endblock %}

{% block body %}
    <h1>Instagram Insights</h1>

    <h2>Nbr total de like des 3 derniers posts: {{ totalLikes }}</h2>
    {{ totalFollowers }}

    <h3>Latest Media:</h3>
    <ul>
        {% for media in latestMedia %}
            <li>
                <img src="{{ media.media_url }}" alt="Instagram Media" style="width: 100px; height: auto;">
                Likes: {{ media.like_count }}
                <ul>
                    {% for insight in media.insights %}
                        <li>{{ insight.name }}: {{ insight.values[0].value }}</li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>
    <h3>Impressions quotidiennes des 30 derniers jours :</h3>
    <ul>
        {% for insight in instagramInsightsLast30Days %}
            <li>{{ insight.name }} ({{ insight.period }}) : {{ insight.values[0].value }}</li>
        {% endfor %}
    </ul>

    {% if insights %}
        <h3>Account Insights:</h3>
        <ul>
            {% for insight in insights %}
                <li>{{ insight.name }} ({{ insight.period }}): {{ insight.values[0].value }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}
